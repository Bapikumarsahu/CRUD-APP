
<div class="container">
<form class="row" [formGroup]="partDetails" (ngSubmit)="onFormSubmit()" >
  <div class="col-md-6">
  <div class="form-group">
    <label for="name">Part name </label>
    <input type="text" formControlName="Partname" class="form-control" name="Partname" [(ngModel)]="storeData.Partname">
 
  </div>
    
  <div *ngIf="partDetails.controls['Partname'].hasError('required')" class="alert alert-danger">
    Please enter Part Name
  </div>
  <div class="form-group">
    <label for="pwd">Description</label>
    <input type="text"  formControlName="Description" class="form-control" name="Description" [(ngModel)]="storeData.Description">
  </div>

  <div *ngIf="partDetails.controls['Description'].hasError('required')" class="alert alert-danger">
    Please add Description
  </div>

  <div class="form-group">
      <label for="pwd">Contact Email </label>
      <input type="text" formControlName="ContactEmail" class="form-control" name="ContactEmail" [(ngModel)]="storeData.ContactEmail">
  </div>

  <div *ngIf="partDetails.controls['ContactEmail'].hasError('pattern')" class="alert alert-danger">
    Invalid Email id
  </div>

  <div class="form-group">
    <label for="sel1">Select Country:</label>
    <select class="form-control"  formControlName="country"  name ="country"  [(ngModel)]="storeData.Country">
      <option *ngFor = "let countryList of products" value="{{countryList.Country}}">{{countryList.Country}}</option>
     
    </select>
    </div>
    <div *ngIf="partDetails.controls['country'].hasError('required')" class="alert alert-danger">
      Please select Country
    </div>
    

  <button type="submit" class="btn btn-primary" (click)="addParts()">Submit</button>
  </div>
</form>


  <h4 class="pad-top-bot">Volvo Parts Details</h4>            
  <table class="table table-striped">
    <thead>
      <tr>
        <th>Part name </th>
        <th>Description</th>
        <th>Contact Email </th>
        <th>Country</th>
        <th></th>
     
       </tr>
    </thead>
    <tbody>
      <tr *ngFor="let product of products; let i = index">
        <td>{{product.Partname}}</td>
        <td>{{product.Description}}</td>
        <td>{{product.ContactEmail}}</td>
        <td>{{product.Country}}</td>
        <td>
          <a class="btn btn-success" data-toggle="modal" data-target="#myModal" (click)="editField(i)">Edit</a>
          <a class="btn btn-danger" (click)="deleteParts(i)">Delete</a>
         <a></a>
        </td>
       </tr>
  
 
    </tbody>
  </table>


  <!-- modal popup -->

  <div class="modal fade" id="myModal">
    <div class="modal-dialog">
      <div class="modal-content">
  
        <!-- Modal Header -->
        <div class="modal-header">
          <h4>Update Parts</h4>
          <button type="button" class="close" data-dismiss="modal">&times;</button>
        </div>
  
        <!-- Modal body -->
        <div class="modal-body">
          <form class="row" *ngIf="showMe">
            <div class="col-md-12">
             
            <div class="form-group">
              <label for="name">Part name </label>
              <input type="text" class="form-control" name="Partname" [(ngModel)]="updateData.Partname">
            </div>
            <div class="form-group">
              <label for="pwd">Description</label>
              <input type="text" class="form-control" name="Description" [(ngModel)]="updateData.Description">
            </div>
            <div class="form-group">
                <label for="pwd">Contact Email </label>
                <input type="text" class="form-control" name="ContactEmail" [(ngModel)]="updateData.ContactEmail">
            </div>
            <div class="form-group">
              <label for="sel1">Select Country:</label>
              <select class="form-control"  name ="country" [(ngModel)]="updateData.Country">
                <option *ngFor = "let countryList of products" value="{{countryList.Country}}">{{countryList.Country}}</option>
               
              </select>
              </div>
          
            <button type="submit" class="btn btn-primary" (click)="updateParts()">Update</button>
            </div>
          </form> 
        </div>
  
        <!-- Modal footer -->
        <div class="modal-footer">
          <button type="button" class="btn btn-danger" data-dismiss="modal">Close</button>
        </div>
  
      </div>
    </div>
  </div>



  <!-- end here -->


  
  

</div>

